{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\natha\\\\AWS_Hackathon2025\\\\frontend\\\\src\\\\components\\\\location-input.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport { MapPin, Star, X } from \"lucide-react\";\nimport { getSavedLocations, searchLocations, deleteLocation } from \"@/services/savedLocations\";\nimport { cn } from \"@/lib/utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LocationInput({\n  value,\n  onChange,\n  placeholder,\n  icon,\n  className\n}) {\n  _s();\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [savedLocations, setSavedLocations] = useState([]);\n  const [filteredLocations, setFilteredLocations] = useState([]);\n  const dropdownRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // Load saved locations\n  useEffect(() => {\n    const locations = getSavedLocations();\n    setSavedLocations(locations);\n  }, []);\n\n  // Filter locations based on input\n  useEffect(() => {\n    if (value.trim()) {\n      const filtered = searchLocations(value);\n      setFilteredLocations(filtered);\n    } else {\n      // Show all saved locations when input is empty\n      setFilteredLocations(savedLocations.slice(0, 5));\n    }\n  }, [value, savedLocations]);\n\n  // Handle click outside to close dropdown\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target) && inputRef.current && !inputRef.current.contains(event.target)) {\n        setShowDropdown(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n  const handleInputChange = e => {\n    onChange(e.target.value);\n    setShowDropdown(true);\n  };\n  const handleSelectLocation = location => {\n    onChange(location.address);\n    setShowDropdown(false);\n  };\n  const handleDeleteLocation = (e, id) => {\n    e.stopPropagation();\n    deleteLocation(id);\n    const updated = getSavedLocations();\n    setSavedLocations(updated);\n  };\n  const handleFocus = () => {\n    setShowDropdown(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [icon, /*#__PURE__*/_jsxDEV(Input, {\n        ref: inputRef,\n        placeholder: placeholder,\n        value: value,\n        onChange: handleInputChange,\n        onFocus: handleFocus,\n        className: cn(\"pl-10 h-11 border-2\", className)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), showDropdown && filteredLocations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: dropdownRef,\n      className: \"absolute z-50 w-full mt-2 bg-white border-2 border-border rounded-xl shadow-lg max-h-60 overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-3 py-2 text-xs font-semibold text-muted-foreground flex items-center gap-1.5\",\n          children: [/*#__PURE__*/_jsxDEV(Star, {\n            className: \"h-3 w-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), \"Saved Locations\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), filteredLocations.map(location => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSelectLocation(location),\n          className: \"w-full px-3 py-2.5 text-left hover:bg-primary/10 transition-colors flex items-start gap-3 group\",\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            className: \"h-4 w-4 text-primary mt-0.5 flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium text-sm text-foreground truncate\",\n              children: location.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 19\n            }, this), location.name !== location.address && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-muted-foreground truncate\",\n              children: location.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => handleDeleteLocation(e, location.id),\n            className: \"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-destructive/10 rounded\",\n            title: \"Remove location\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"h-3.5 w-3.5 text-destructive\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 17\n          }, this)]\n        }, location.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s(LocationInput, \"WoYPB1i3KxNVgwFUHZrvnSjqDOY=\");\n_c = LocationInput;\nvar _c;\n$RefreshReg$(_c, \"LocationInput\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","useRef","Input","MapPin","Star","X","getSavedLocations","searchLocations","deleteLocation","cn","jsxDEV","_jsxDEV","LocationInput","value","onChange","placeholder","icon","className","showDropdown","setShowDropdown","savedLocations","setSavedLocations","filteredLocations","setFilteredLocations","dropdownRef","inputRef","locations","trim","filtered","slice","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleInputChange","e","handleSelectLocation","location","address","handleDeleteLocation","id","stopPropagation","updated","handleFocus","children","ref","onFocus","fileName","lineNumber","columnNumber","length","map","onClick","name","title","_c","$RefreshReg$"],"sources":["C:/Users/natha/AWS_Hackathon2025/frontend/src/components/location-input.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect, useRef } from \"react\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { MapPin, Star, X } from \"lucide-react\"\r\nimport { getSavedLocations, searchLocations, deleteLocation, type SavedLocation } from \"@/services/savedLocations\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ninterface LocationInputProps {\r\n  value: string\r\n  onChange: (value: string) => void\r\n  placeholder: string\r\n  icon: React.ReactNode\r\n  className?: string\r\n}\r\n\r\nexport default function LocationInput({ value, onChange, placeholder, icon, className }: LocationInputProps) {\r\n  const [showDropdown, setShowDropdown] = useState(false)\r\n  const [savedLocations, setSavedLocations] = useState<SavedLocation[]>([])\r\n  const [filteredLocations, setFilteredLocations] = useState<SavedLocation[]>([])\r\n  const dropdownRef = useRef<HTMLDivElement>(null)\r\n  const inputRef = useRef<HTMLInputElement>(null)\r\n\r\n  // Load saved locations\r\n  useEffect(() => {\r\n    const locations = getSavedLocations()\r\n    setSavedLocations(locations)\r\n  }, [])\r\n\r\n  // Filter locations based on input\r\n  useEffect(() => {\r\n    if (value.trim()) {\r\n      const filtered = searchLocations(value)\r\n      setFilteredLocations(filtered)\r\n    } else {\r\n      // Show all saved locations when input is empty\r\n      setFilteredLocations(savedLocations.slice(0, 5))\r\n    }\r\n  }, [value, savedLocations])\r\n\r\n  // Handle click outside to close dropdown\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (\r\n        dropdownRef.current &&\r\n        !dropdownRef.current.contains(event.target as Node) &&\r\n        inputRef.current &&\r\n        !inputRef.current.contains(event.target as Node)\r\n      ) {\r\n        setShowDropdown(false)\r\n      }\r\n    }\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside)\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside)\r\n  }, [])\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    onChange(e.target.value)\r\n    setShowDropdown(true)\r\n  }\r\n\r\n  const handleSelectLocation = (location: SavedLocation) => {\r\n    onChange(location.address)\r\n    setShowDropdown(false)\r\n  }\r\n\r\n  const handleDeleteLocation = (e: React.MouseEvent, id: string) => {\r\n    e.stopPropagation()\r\n    deleteLocation(id)\r\n    const updated = getSavedLocations()\r\n    setSavedLocations(updated)\r\n  }\r\n\r\n  const handleFocus = () => {\r\n    setShowDropdown(true)\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <div className=\"relative\">\r\n        {icon}\r\n        <Input\r\n          ref={inputRef}\r\n          placeholder={placeholder}\r\n          value={value}\r\n          onChange={handleInputChange}\r\n          onFocus={handleFocus}\r\n          className={cn(\"pl-10 h-11 border-2\", className)}\r\n        />\r\n      </div>\r\n\r\n      {/* Dropdown */}\r\n      {showDropdown && filteredLocations.length > 0 && (\r\n        <div\r\n          ref={dropdownRef}\r\n          className=\"absolute z-50 w-full mt-2 bg-white border-2 border-border rounded-xl shadow-lg max-h-60 overflow-y-auto\"\r\n        >\r\n          <div className=\"py-2\">\r\n            <div className=\"px-3 py-2 text-xs font-semibold text-muted-foreground flex items-center gap-1.5\">\r\n              <Star className=\"h-3 w-3\" />\r\n              Saved Locations\r\n            </div>\r\n            {filteredLocations.map((location) => (\r\n              <button\r\n                key={location.id}\r\n                onClick={() => handleSelectLocation(location)}\r\n                className=\"w-full px-3 py-2.5 text-left hover:bg-primary/10 transition-colors flex items-start gap-3 group\"\r\n              >\r\n                <MapPin className=\"h-4 w-4 text-primary mt-0.5 flex-shrink-0\" />\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"font-medium text-sm text-foreground truncate\">{location.name}</div>\r\n                  {location.name !== location.address && (\r\n                    <div className=\"text-xs text-muted-foreground truncate\">{location.address}</div>\r\n                  )}\r\n                </div>\r\n                <button\r\n                  onClick={(e) => handleDeleteLocation(e, location.id)}\r\n                  className=\"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-destructive/10 rounded\"\r\n                  title=\"Remove location\"\r\n                >\r\n                  <X className=\"h-3.5 w-3.5 text-destructive\" />\r\n                </button>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}